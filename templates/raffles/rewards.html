<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premios - Rifas Online</title>
    <link rel="stylesheet" href="navbar.css">
    <link rel="stylesheet" href="rewards.css">
    <link rel="stylesheet" href="footer.css">
</head>
<body>
    <!-- Include Navbar -->
    <div id="navbar-container"></div>

    <!-- Hero Section -->
    <div class="rewards-hero">
        <div class="hero-content">
            <h1 class="hero-title">Increíbles Premios</h1>
            <p class="hero-subtitle">Descubre todos los premios disponibles y participa por el que más te guste</p>
        </div>
    </div>

    <!-- Filters Section -->
    <div class="filters-container">
        <div class="filters-content">
            <h2 class="filters-title">Filtrar Premios</h2>
            <div class="filter-buttons">
                <button class="filter-btn active" data-filter="all">Todos</button>
                <button class="filter-btn" data-filter="electronics">Electrónicos</button>
                <button class="filter-btn" data-filter="vehicles">Vehículos</button>
                <button class="filter-btn" data-filter="cash">Dinero</button>
                <button class="filter-btn" data-filter="other">Otros</button>
            </div>
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="Buscar premio..." class="search-input">
                <svg class="search-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="11" cy="11" r="8"/>
                    <path d="M21 21l-4.35-4.35"/>
                </svg>
            </div>
        </div>
    </div>

    <!-- Rewards Grid Section -->
    <div class="rewards-container">
        <div class="rewards-grid" id="rewardsGrid">
            <!-- Los premios se generarán dinámicamente -->
        </div>
    </div>

    <!-- Include Footer -->
    <div id="footer-container"></div>

    <!-- Load Scripts -->
    <script src="navbar.js"></script>
    <script>
        // Load navbar
        fetch('navbar.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('navbar-container').innerHTML = data;
                if (typeof NavbarController !== 'undefined') {
                    new NavbarController();
                }
            })
            .catch(error => {
                console.error('Error loading navbar:', error);
                document.getElementById('navbar-container').innerHTML = `
                    <nav class="navbar">
                        <div class="navbar-content">
                            <a href="./index.html" class="logo">RIFAS</a>
                            <div class="nav-container">
                                <ul class="nav-links" id="navLinks">
                                    <li><a href="./index.html">Inicio</a></li>
                                    <li><a href="./rewards.html">Premios</a></li>
                                    <li><a href="./results.html">Resultados</a></li>
                                    <li><a href="./index.html#contacto">Contacto</a></li>
                                </ul>
                                <div class="auth-buttons" id="authButtons">
                                    <a href="#login" class="btn-login">Iniciar Sesión</a>
                                    <a href="#register" class="btn-register">Registrarse</a>
                                </div>
                                <div class="hamburger" id="hamburger">
                                    <span></span>
                                    <span></span>
                                    <span></span>
                                </div>
                            </div>
                        </div>
                    </nav>
                `;
                if (typeof NavbarController !== 'undefined') {
                    new NavbarController();
                }
            });

        // Load footer
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-container').innerHTML = data;
            })
            .catch(error => {
                console.error('Error loading footer:', error);
                document.getElementById('footer-container').innerHTML = `
                    <footer style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); color: white; padding: 2rem; text-align: center;">
                        <p>&copy; 2025 RIFAS. Todos los derechos reservados.</p>
                    </footer>
                `;
            });

        // Rewards data
        const rewardsData = [
            {
                id: 1,
                name: "iPhone 15 Pro Max",
                description: "El último modelo de Apple con 256GB de almacenamiento",
                price: "$50.00",
                value: "$1,200",
                image: "https://images.unsplash.com/photo-1695048133142-1a20484d2569?w=300&h=300&fit=crop&crop=center",
                category: "electronics",
                date: "15 AGO 2025",
                time: "20:00",
                sold: 450,
                total: 1000,
                status: "active"
            },
            {
                id: 2,
                name: "PlayStation 5 + 3 Juegos",
                description: "Consola PS5 con Spider-Man 2, FIFA 24 y Call of Duty",
                price: "$30.00",
                value: "$800",
                image: "https://images.unsplash.com/photo-1606813907291-d86efa9b94db?w=300&h=300&fit=crop&crop=center",
                category: "electronics",
                date: "20 AGO 2025",
                time: "18:30",
                sold: 723,
                total: 1500,
                status: "active"
            },
            {
                id: 3,
                name: "MacBook Air M2",
                description: "Laptop Apple MacBook Air M2 con 512GB SSD",
                price: "$75.00",
                value: "$1,500",
                image: "https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=300&h=300&fit=crop&crop=center",
                category: "electronics",
                date: "25 AGO 2025",
                time: "19:00",
                sold: 234,
                total: 800,
                status: "active"
            },
            {
                id: 4,
                name: "Tesla Model 3",
                description: "Vehículo eléctrico Tesla Model 3 Standard Range Plus",
                price: "$500.00",
                value: "$45,000",
                image: "https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=300&h=300&fit=crop&crop=center",
                category: "vehicles",
                date: "30 AGO 2025",
                time: "21:00",
                sold: 67,
                total: 200,
                status: "active"
            },
            {
                id: 5,
                name: "Apple Watch Ultra",
                description: "Reloj inteligente Apple Watch Ultra con GPS + Cellular",
                price: "$40.00",
                value: "$900",
                image: "https://images.unsplash.com/photo-1434493789847-2f02dc6ca35d?w=300&h=300&fit=crop&crop=center",
                category: "electronics",
                date: "05 SEP 2025",
                time: "17:00",
                sold: 892,
                total: 1200,
                status: "active"
            },
            {
                id: 6,
                name: "$10,000 en Efectivo",
                description: "Diez mil pesos mexicanos en efectivo",
                price: "$20.00",
                value: "$10,000",
                image: "https://images.unsplash.com/photo-1607863680198-23d4b2565df0?w=300&h=300&fit=crop&crop=center",
                category: "cash",
                date: "10 SEP 2025",
                time: "19:30",
                sold: 1567,
                total: 2000,
                status: "active"
            },
            {
                id: 7,
                name: "Nintendo Switch OLED",
                description: "Consola Nintendo Switch OLED con Mario Kart 8 Deluxe",
                price: "$35.00",
                value: "$450",
                image: "https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300&h=300&fit=crop&crop=center",
                category: "electronics",
                date: "12 SEP 2025",
                time: "16:00",
                sold: 334,
                total: 600,
                status: "active"
            },
            {
                id: 8,
                name: "iPad Pro 12.9\"",
                description: "Tablet iPad Pro 12.9\" con Apple Pencil incluido",
                price: "$60.00",
                value: "$1,100",
                image: "https://images.unsplash.com/photo-1544244015-0df4b3ffc6b0?w=300&h=300&fit=crop&crop=center",
                category: "electronics",
                date: "18 SEP 2025",
                time: "20:30",
                sold: 445,
                total: 900,
                status: "active"
            },
            {
                id: 9,
                name: "Motocicleta Yamaha R3",
                description: "Motocicleta deportiva Yamaha YZF-R3 modelo 2024",
                price: "$200.00",
                value: "$95,000",
                image: "https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=300&h=300&fit=crop&crop=center",
                category: "vehicles",
                date: "22 SEP 2025",
                time: "18:00",
                sold: 123,
                total: 500,
                status: "active"
            },
            {
                id: 10,
                name: "Viaje a Cancún",
                description: "Paquete vacacional para 2 personas a Cancún por 5 días",
                price: "$80.00",
                value: "$25,000",
                image: "https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=300&h=300&fit=crop&crop=center",
                category: "other",
                date: "25 SEP 2025",
                time: "19:00",
                sold: 276,
                total: 800,
                status: "active"
            },
            {
                id: 11,
                name: "$5,000 en Efectivo",
                description: "Cinco mil pesos mexicanos en efectivo",
                price: "$15.00",
                value: "$5,000",
                image: "https://images.unsplash.com/photo-1607863680198-23d4b2565df0?w=300&h=300&fit=crop&crop=center",
                category: "cash",
                date: "28 SEP 2025",
                time: "20:00",
                sold: 1234,
                total: 1500,
                status: "active"
            },
            {
                id: 12,
                name: "Samsung Galaxy S24 Ultra",
                description: "Smartphone Samsung Galaxy S24 Ultra con S Pen",
                price: "$45.00",
                value: "$1,300",
                image: "https://images.unsplash.com/photo-1592899677977-9c10ca588bbd?w=300&h=300&fit=crop&crop=center",
                category: "electronics",
                date: "02 OCT 2025",
                time: "19:30",
                sold: 567,
                total: 1000,
                status: "active"
            }
        ];

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            initializeRewards();
            setupFilters();
            setupSearch();
        });

        // Initialize rewards grid
        function initializeRewards() {
            renderRewards(rewardsData);
        }

        // Render rewards
        function renderRewards(rewards) {
            const grid = document.getElementById('rewardsGrid');
            
            if (rewards.length === 0) {
                grid.innerHTML = `
                    <div class="no-results">
                        <h3>No se encontraron premios</h3>
                        <p>Intenta con otros filtros o términos de búsqueda</p>
                    </div>
                `;
                return;
            }

            grid.innerHTML = rewards.map(reward => createRewardCard(reward)).join('');
        }

        // Create reward card
        function createRewardCard(reward) {
            const progressPercentage = (reward.sold / reward.total) * 100;
            
            return `
                <div class="reward-card" data-category="${reward.category}">
                    <div class="reward-image-container">
                        <img src="${reward.image}" alt="${reward.name}" class="reward-image">
                        <div class="reward-badge">${reward.category === 'cash' ? 'Efectivo' : reward.category === 'electronics' ? 'Electrónicos' : reward.category === 'vehicles' ? 'Vehículos' : 'Otros'}</div>
                        <div class="reward-value">Valor: ${reward.value}</div>
                    </div>
                    <div class="reward-content">
                        <h3 class="reward-name">${reward.name}</h3>
                        <p class="reward-description">${reward.description}</p>
                        
                        <div class="reward-details">
                            <div class="reward-date">
                                <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"/>
                                    <line x1="16" y1="2" x2="16" y2="6"/>
                                    <line x1="8" y1="2" x2="8" y2="6"/>
                                    <line x1="3" y1="10" x2="21" y2="10"/>
                                </svg>
                                ${reward.date} • ${reward.time}
                            </div>
                            
                            <div class="reward-progress">
                                <div class="progress-text">
                                    <span>Vendidos: ${reward.sold}/${reward.total}</span>
                                    <span>${progressPercentage.toFixed(1)}%</span>
                                </div>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: ${progressPercentage}%"></div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="reward-footer">
                            <div class="reward-price">
                                <span class="price-label">Precio por boleto:</span>
                                <span class="price">${reward.price}</span>
                            </div>
                            <button class="buy-btn" onclick="buyReward(${reward.id})">
                                Comprar Boleto
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Setup filters
        function setupFilters() {
            const filterButtons = document.querySelectorAll('.filter-btn');
            
            filterButtons.forEach(button => {
                button.addEventListener('click', () => {
                    // Remove active class from all buttons
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // Add active class to clicked button
                    button.classList.add('active');
                    
                    const filter = button.getAttribute('data-filter');
                    filterRewards(filter);
                });
            });
        }

        // Filter rewards
        function filterRewards(category) {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            let filteredRewards = rewardsData;

            // Filter by category
            if (category !== 'all') {
                filteredRewards = filteredRewards.filter(reward => reward.category === category);
            }

            // Filter by search term
            if (searchTerm) {
                filteredRewards = filteredRewards.filter(reward => 
                    reward.name.toLowerCase().includes(searchTerm) ||
                    reward.description.toLowerCase().includes(searchTerm)
                );
            }

            renderRewards(filteredRewards);
        }

        // Setup search
        function setupSearch() {
            const searchInput = document.getElementById('searchInput');
            
            searchInput.addEventListener('input', () => {
                const activeFilter = document.querySelector('.filter-btn.active').getAttribute('data-filter');
                filterRewards(activeFilter);
            });
        }

        // Buy reward function
        function buyReward(rewardId) {
            const reward = rewardsData.find(r => r.id === rewardId);
            if (reward) {
                alert(`¡Compraste un boleto para: ${reward.name}!\nPrecio: ${reward.price}\n\nTe redirigiremos al proceso de pago.`);
                // Here you would redirect to payment or ticket selection page
                // window.location.href = `/ticket-selection/${rewardId}`;
            }
        }
    </script>
</body>
</html>
